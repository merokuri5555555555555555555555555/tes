<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>コーヒーシミュレーター</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
    }
    .ingredient {
      margin-bottom: 10px;
    }
    #coffeeDisplay {
      width: 200px;
      height: 300px;
      border: 2px solid #333;
      margin: 20px 0;
      background-color: #fff;
    }
    #coffeeName {
      font-size: 20px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>コーヒーシミュレーター</h1>

  <div class="ingredient">コーヒー: <input type="range" id="coffee" min="0" max="100" value="0">%</div>
  <div class="ingredient">ミルク: <input type="range" id="milk" min="0" max="100" value="0">%</div>
  <div class="ingredient">水: <input type="range" id="water" min="0" max="100" value="0">%</div>
  <div class="ingredient">お湯: <input type="range" id="hotwater" min="0" max="100" value="0">%</div>
  <div class="ingredient">氷: <input type="range" id="ice" min="0" max="100" value="0">%</div>
  <div class="ingredient">アイス（冷たさ）: <input type="range" id="cold" min="0" max="100" value="0">%</div>

  <div id="coffeeDisplay"></div>
  <div id="coffeeName"></div>

  <script>
    const inputs = document.querySelectorAll("input");
    const display = document.getElementById("coffeeDisplay");
    const nameDisplay = document.getElementById("coffeeName");

    function updateCoffee() {
  const coffee = parseInt(document.getElementById("coffee").value);
  const milk = parseInt(document.getElementById("milk").value);
  const water = parseInt(document.getElementById("water").value);
  const hotwater = parseInt(document.getElementById("hotwater").value);
  const ice = parseInt(document.getElementById("ice").value);
  const cold = parseInt(document.getElementById("cold").value);

  const total = coffee + milk + water + hotwater + ice + cold || 1;

  // 色
  const r = Math.min(255, Math.round((coffee * 50 + milk * 240 + water * 200 + hotwater * 220 + ice * 240 + cold * 230) / total));
  const g = Math.min(255, Math.round((coffee * 30 + milk * 220 + water * 220 + hotwater * 210 + ice * 240 + cold * 240) / total));
  const b = Math.min(255, Math.round((coffee * 20 + milk * 200 + water * 255 + hotwater * 220 + ice * 255 + cold * 255) / total));
  display.style.backgroundColor = `rgb(${r}, ${g}, ${b})`;

  // 判定ロジック（大まかな条件）
  let name = "？？？";

  const isHot = hotwater > cold && hotwater > 10;
  const isIced = ice > 20 || cold > 30;

  if (coffee > 70 && milk < 10 && water < 10) {
    name = "エスプレッソ";
  } else if (coffee > 50 && hotwater > 30 && milk < 10 && isHot) {
    name = "アメリカーノ";
  } else if (coffee > 50 && water > 30 && isIced) {
    name = "アイスアメリカーノ";
  } else if (coffee > 50 && milk > 30 && isHot && milk > cold) {
    name = "カフェラテ";
  } else if (coffee > 50 && milk > 30 && isIced) {
    name = "アイスカフェラテ";
  } else if (coffee > 50 && milk > 30 && milk < 60 && isHot && milk > cold && milk < 60 && ice < 10) {
    name = "カプチーノ";
  } else if (coffee > 50 && milk > 40 && milk < 70 && isHot && ice < 10) {
    name = "フラットホワイト";
  } else if (coffee > 40 && milk > 40 && water > 10 && isHot) {
    name = "カフェオレ";
  } else if (coffee > 40 && milk > 40 && isIced) {
    name = "アイスカフェオレ";
  } else if (coffee > 60 && milk > 10 && milk < 30 && isHot) {
    name = "マキアート";
  } else if (coffee > 50 && milk > 20 && ice > 20 && cold > 20) {
    name = "ウィンナーコーヒー";
  } else if (coffee > 60 && isIced && cold > 30 && water < 10 && hotwater < 10) {
    name = "アイスコーヒー";
  } else if (coffee > 40 && cold > 40 && ice > 20 && water < 10 && hotwater < 10) {
    name = "コールドブリュー";
  } else if (coffee > 40 && water > 30 && cold > 20 && ice > 10) {
    name = "エスプレッソ・トニック";
  } else if (coffee > 50 && milk < 10 && water < 10 && hotwater < 10) {
    name = "ブラックコーヒー";
  }

  nameDisplay.textContent = name;
}


    inputs.forEach(input => input.addEventListener("input", updateCoffee));
    updateCoffee();
  </script>
</body>
</html>
